/**
 * Module 2, Submodule 2.5: Nh·ªãp gh√©p (Compound Meter)
 *
 * Learning Journey:
 * 1. Passive: Animation comparing 3/4 vs 6/8 - same notes, different grouping
 * 2. Guided: Count "1-2-3, 1-2-3" for 6/8 vs "1-2-3" for 3/4
 * 3. Interactive: Toggle between straight 8ths and swung 8ths
 * 4. Milestone: Play jig (6/8) and blues shuffle (12/8)
 *
 * Skipped: Game Journey (to be implemented later)
 */
import type { Submodule } from '../types'

export const SUBMODULE_2_5: Submodule = {
  id: '2.5',
  title: 'Nh·ªãp gh√©p',
  description: 'Hi·ªÉu nh·ªãp 6/8 v√† c·∫£m gi√°c "triplet feel", ph√¢n bi·ªát nh·ªãp ƒë∆°n v√† nh·ªãp gh√©p',
  sections: ['theory', 'grandStaff', 'abcDemo'],
  theoryContent: `
## 1. Nh·ªãp gh√©p (Compound Meter) l√† g√¨?

### ƒê·ªãnh nghƒ©a

**Nh·ªãp gh√©p** l√† nh·ªãp m√† m·ªói ph√°ch ch√≠nh ƒë∆∞·ª£c **chia l√†m 3 ph·∫ßn** (thay v√¨ 2 nh∆∞ nh·ªãp ƒë∆°n).

| Lo·∫°i nh·ªãp | Chia ph√°ch | C·∫£m gi√°c |
|-----------|------------|----------|
| **Nh·ªãp ƒë∆°n** (Simple) | Chia 2 | "1-v√†" |
| **Nh·ªãp gh√©p** (Compound) | Chia 3 | "1-v√†-a" |

> üéµ Nh·ªãp gh√©p t·∫°o c·∫£m gi√°c "l·∫Øc l∆∞", "d·∫≠p d√¨nh" ƒë·∫∑c tr∆∞ng!

---

## 2. Nh·ªãp 6/8 c∆° b·∫£n

### C·∫•u tr√∫c

- **6 m√≥c ƒë∆°n** trong m·ªói √¥ nh·ªãp
- **NH∆ØNG** nh√≥m th√†nh **2 nh·ªãp ch√≠nh √ó 3 n·ªët**
- C·∫£m gi√°c: "**1**-2-3, **1**-2-3" (2 accent ch√≠nh)

{{abc:Nh·ªãp 6/8: 2 nh√≥m √ó 3 m√≥c ƒë∆°n|X:1
M:6/8
L:1/8
K:C
CDE FGA | Bcd efg|]}}

### ƒê·∫øm nh·ªãp

> **1** - v√† - a - **2** - v√† - a
>
> (Nh·∫•n m·∫°nh 1 v√† 2, c√°c "v√†-a" nh·∫π h∆°n)

### ·ª®ng d·ª•ng

- **Jig** (Irish/Celtic music)
- **Tarantella** (Italian)
- **Barcarolle** (Venetian gondola songs)
- Nhi·ªÅu b√†i h√°t Pop ballad!

---

## 3. 3/4 vs 6/8 - Kh√°c bi·ªát then ch·ªët!

### C√πng s·ªë n·ªët, KH√ÅC c√°ch nh√≥m!

C·∫£ 3/4 v√† 6/8 ƒë·ªÅu c√≥ th·ªÉ ch·ª©a 6 m√≥c ƒë∆°n trong 1 √¥ nh·ªãp. Nh∆∞ng c√°ch **nh√≥m** ho√†n to√†n kh√°c!

### So s√°nh tr·ª±c quan

| ƒê·∫∑c ƒëi·ªÉm | **3/4** (Nh·ªãp ƒë∆°n) | **6/8** (Nh·ªãp gh√©p) |
|----------|-------------------|---------------------|
| S·ªë ph√°ch ch√≠nh | 3 ph√°ch | 2 ph√°ch |
| M·ªói ph√°ch chia | 2 (nh·ªãp ƒë∆°n) | 3 (nh·ªãp gh√©p) |
| C√°ch nh√≥m 6 m√≥c | 2 + 2 + 2 | 3 + 3 |
| C·∫£m gi√°c | "**1**-2-**3**" | "**1**-v√†-a-**2**-v√†-a" |
| Phong c√°ch | Waltz | Jig, Barcarolle |

### V√≠ d·ª• 3/4 (Waltz)

{{abc:3/4: Nh·ªãp Waltz (3 ph√°ch ch√≠nh)|X:1
M:3/4
L:1/8
K:C
CD EF GA | BC DE FG|]}}

### V√≠ d·ª• 6/8 (Jig)

{{abc:6/8: Nh·ªãp Jig (2 nh√≥m √ó 3)|X:1
M:6/8
L:1/8
K:C
CDE FGA | BCD EFG|]}}

> ‚ö†Ô∏è **Nh√¨n gi·ªëng nhau nh∆∞ng nghe KH√ÅC!** 3/4 nh·∫•n 3 l·∫ßn, 6/8 nh·∫•n 2 l·∫ßn.

---

## 4. 9/8 v√† 12/8

### Nh·ªãp 9/8

- **9 m√≥c ƒë∆°n** = **3 nh√≥m √ó 3**
- C·∫£m gi√°c: "**1**-v√†-a-**2**-v√†-a-**3**-v√†-a"

{{abc:9/8: 3 nh√≥m √ó 3 m√≥c ƒë∆°n|X:1
M:9/8
L:1/8
K:C
CDE FGA Bcd|]}}

### Nh·ªãp 12/8 - Blues Shuffle! üé∏

- **12 m√≥c ƒë∆°n** = **4 nh√≥m √ó 3**
- ƒê√¢y ch√≠nh l√† **Blues feel**!
- C·∫£m gi√°c: "**1**-v√†-a-**2**-v√†-a-**3**-v√†-a-**4**-v√†-a"

{{abc:12/8: Blues Shuffle (4 nh√≥m √ó 3)|X:1
M:12/8
L:1/8
K:C
CCC EEE | GGG ccc | CCC EEE | GGG ccc|]}}

> üéµ **Blues/Rock classics**: "Stormy Monday", "Slow Ride", nhi·ªÅu b√†i c·ªßa B.B. King!

### C√¥ng th·ª©c chung

> **S·ªë ·ªü tr√™n √∑ 3 = S·ªë ph√°ch ch√≠nh**
>
> - 6 √∑ 3 = 2 ph√°ch
> - 9 √∑ 3 = 3 ph√°ch
> - 12 √∑ 3 = 4 ph√°ch

---

## 5. Triplet Feel & Swing

### Triplet (N·ªët ba)

Trong nh·ªãp ƒë∆°n, khi b·∫°n mu·ªën chia ph√°ch l√†m 3 thay v√¨ 2, b·∫°n d√πng **triplet**:

{{abc:Triplet: Chia 1 ph√°ch th√†nh 3 n·ªët|X:1
M:4/4
L:1/4
K:C
(3CDE (3FGA | (3Bcd (3efg|]}}

> üìù S·ªë 3 ·ªü tr√™n = "3 n·ªët trong th·ªùi gian c·ªßa 2"

### Swing Feel

**Swing** = Bi·∫øn "straight 8ths" th√†nh "triplet feel":

- **Straight 8ths**: 1-v√†-2-v√†... (ƒë·ªÅu nhau)
- **Swung 8ths**: 1--v√†-2--v√†... (d√†i-ng·∫Øn-d√†i-ng·∫Øn)

> üé∑ **Jazz essential!** Swing l√†m cho nh·∫°c "bounce" v√† c√≥ groove!

---

## 6. Nh·∫≠n bi·∫øt Simple vs Compound

### Quy t·∫Øc ƒë∆°n gi·∫£n

| S·ªë tr√™n | Lo·∫°i nh·ªãp | V√≠ d·ª• |
|---------|-----------|-------|
| 2, 3, 4 | **Simple** (Nh·ªãp ƒë∆°n) | 2/4, 3/4, 4/4 |
| 6, 9, 12 | **Compound** (Nh·ªãp gh√©p) | 6/8, 9/8, 12/8 |

### Ki·ªÉm tra b·∫±ng ph√©p chia

- **Chia ƒë∆∞·ª£c cho 3** (v√† > 3) ‚Üí Compound
- **Kh√¥ng chia ƒë∆∞·ª£c cho 3** ‚Üí Simple

---

## 7. ·ª®ng d·ª•ng th·ª±c t·∫ø

### Jig (6/8) - Irish Music

{{abc:Irish Jig trong 6/8|X:1
M:6/8
L:1/8
K:G
GAB dBG | ABc BAG | GAB dBG | ABc d3|]}}

### Blues (12/8)

{{abc:Blues Pattern trong 12/8|X:1
M:12/8
L:1/8
K:C
C2C E2E G2G E2E | C2C E2E G2G c3|]}}

---

## üéØ T√≥m t·∫Øt

1. **Nh·ªãp gh√©p** = M·ªói ph√°ch chia l√†m 3 (kh√¥ng ph·∫£i 2)
2. **6/8** = 2 ph√°ch √ó 3 m√≥c = "1-v√†-a, 2-v√†-a"
3. **3/4 vs 6/8**: C√πng 6 n·ªët, kh√°c c√°ch nh√≥m (2+2+2 vs 3+3)
4. **12/8** = Blues/Shuffle feel ph·ªï bi·∫øn
5. **Swing** = Bi·∫øn straight 8ths th√†nh triplet feel
6. S·ªë tr√™n chia ƒë∆∞·ª£c cho 3 (6, 9, 12) ‚Üí Compound meter

> üí° **M·∫πo nh·∫≠n bi·∫øt**: N·∫øu nghe th·∫•y "l·∫Øc l∆∞" nh∆∞ s√≥ng bi·ªÉn ‚Üí c√≥ th·ªÉ l√† 6/8!
  `,
  abcDemos: [
    {
      id: '2.5.1',
      title: '3/4 vs 6/8',
      description:
        'Same notes, different grouping. 3/4 nh·∫•n 3 l·∫ßn m·ªói √¥ (waltz), 6/8 nh·∫•n 2 l·∫ßn (jig). Nghe v√† c·∫£m nh·∫≠n s·ª± kh√°c bi·ªát - d√π c√πng s·ªë n·ªët nh∆∞ng "feel" ho√†n to√†n kh√°c!',
      abc: `X:1
M:6/8
L:1/8
K:C
CDE FGA | BCD EFG|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '2.5.2',
      title: '12/8 Blues Shuffle',
      description:
        'Classic blues feel: 12 m√≥c ƒë∆°n nh√≥m th√†nh 4 √ó 3. ƒê√¢y l√† n·ªÅn t·∫£ng c·ªßa h√†ng ng√†n b√†i Rock v√† Blues kinh ƒëi·ªÉn. Pattern "d√†i-ng·∫Øn-d√†i" t·∫°o groove ƒë·∫∑c tr∆∞ng!',
      abc: `X:1
M:12/8
L:1/8
K:C
C2C E2E G2G E2E | C2C E2E G2G c3|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '2.5.3',
      title: 'Straight vs Swing',
      description:
        'Toggle gi·ªØa 2 styles: Straight 8ths = ƒë·ªÅu nh∆∞ robot, Swing 8ths = "bounce" nh∆∞ jazz. C√πng n·ªët nh∆∞ng kh√°c timing - swing k√©o n·ªët ƒë·∫ßu d√†i h∆°n, n·ªët sau ng·∫Øn l·∫°i.',
      abc: `X:1
M:4/4
L:1/8
K:C
CDEF GABB | cBAG FEDC|]`,
      interactive: true,
      playable: true,
    },
  ],
  exercises: [
    {
      type: 'rhythm',
      questionCount: 5,
    },
  ],
}
