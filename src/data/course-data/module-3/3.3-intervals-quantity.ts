/**
 * Module 3, Submodule 3.3: Qu√£ng - S·ªë l∆∞·ª£ng (Intervals - Quantity)
 *
 * Learning Journey:
 * 1. Passive: Animation counting interval from C to E: C(1)-D(2)-E(3) = 3rd
 * 2. Guided: Click 2 notes on staff ‚Üí system auto-counts and shows result
 * 3. Interactive: "Interval Spotter" - see 2 notes ‚Üí guess interval number
 * 4. Milestone: Count intervals from 2nd to Octave in speed game
 *
 * Skipped: Game Journey (to be implemented later)
 */
import type { Submodule } from '../types'

export const SUBMODULE_3_3: Submodule = {
  id: '3.3',
  title: 'Qu√£ng - S·ªë l∆∞·ª£ng',
  description: 'ƒê·∫øm qu√£ng b·∫±ng c√°ch ƒë·∫øm T·∫§T C·∫¢ c√°c n·ªët (bao g·ªìm c·∫£ n·ªët ƒë·∫ßu)',
  sections: ['theory', 'abcDemo'],
  theoryContent: `
## 1. Qu√£ng (Interval) l√† g√¨?

### ƒê·ªãnh nghƒ©a

**Qu√£ng (Interval)** l√† kho·∫£ng c√°ch v·ªÅ cao ƒë·ªô gi·ªØa hai n·ªët nh·∫°c.

- **Melodic interval**: Hai n·ªët ch∆°i **n·ªëi ti·∫øp** (giai ƒëi·ªáu)
- **Harmonic interval**: Hai n·ªët ch∆°i **c√πng l√∫c** (h√≤a √¢m)

> üéµ Qu√£ng l√† "nguy√™n li·ªáu" c·ªßa giai ƒëi·ªáu v√† h√≤a √¢m!

{{quiz:Qu√£ng (Interval) l√† g√¨?|T√™n c·ªßa n·ªët;*Kho·∫£ng c√°ch v·ªÅ cao ƒë·ªô gi·ªØa 2 n·ªët;ƒê·ªô d√†i c·ªßa n·ªët|Qu√£ng = kho·∫£ng c√°ch cao ƒë·ªô gi·ªØa 2 n·ªët nh·∫°c}}

---

## 2. C√°ch ƒë·∫øm qu√£ng

### Quy t·∫Øc v√†ng: ƒê·∫øm C·∫¢ n·ªët ƒë·∫ßu!

> **ƒê·∫øm T·∫§T C·∫¢ c√°c n·ªët t·ª´ n·ªët ƒë·∫ßu ƒë·∫øn n·ªët cu·ªëi, bao g·ªìm c·∫£ hai!**

### V√≠ d·ª•: C l√™n E

\`\`\`
C   D   E
1   2   3  ‚Üí Qu√£ng 3 (Third)
\`\`\`

{{abc:C l√™n E = Qu√£ng 3|X:1
L:1/2
K:C
C E|]}}

### Sai l·∫ßm ph·ªï bi·∫øn

‚ùå **Sai**: ƒê·∫øm "b∆∞·ªõc ƒëi" (C‚ÜíD l√† 1, D‚ÜíE l√† 2 ‚Üí "Qu√£ng 2")

‚úÖ **ƒê√∫ng**: ƒê·∫øm "s·ªë n·ªët" (C=1, D=2, E=3 ‚Üí "Qu√£ng 3")

{{quiz:Khi ƒë·∫øm qu√£ng, n·ªët ƒë·∫ßu ƒë∆∞·ª£c t√≠nh l√† bao nhi√™u?|0;*1;2|ƒê·∫øm c·∫£ n·ªët ƒë·∫ßu l√† 1! C(1)‚ÜíD(2)‚ÜíE(3) = Qu√£ng 3}}

{{quiz:C l√™n G l√† qu√£ng m·∫•y?|4;*5;6|C(1)-D(2)-E(3)-F(4)-G(5) = Qu√£ng 5}}

---

## 3. C√°c qu√£ng c∆° b·∫£n (2nd ƒë·∫øn 8ve)

### Qu√£ng 2 (Second)

- **Pattern**: D√≤ng-Khe li·ªÅn k·ªÅ
- **√Çm thanh**: B∆∞·ªõc ƒëi g·∫ßn, cƒÉng th·∫≥ng

{{abc:Qu√£ng 2: C-D|X:1
L:1/2
K:C
C D|]}}

### Qu√£ng 3 (Third)

- **Pattern**: D√≤ng-D√≤ng ho·∫∑c Khe-Khe k·∫ø ti·∫øp
- **√Çm thanh**: "Ng∆∞·ªùi tuy·∫øt" - n·ªÅn t·∫£ng c·ªßa h·ª£p √¢m

{{abc:Qu√£ng 3: C-E|X:1
L:1/2
K:C
C E|]}}

### Qu√£ng 4 (Fourth)

- **Pattern**: Skip 1 d√≤ng/khe
- **√Çm thanh**: "Here Comes The Bride"

{{abc:Qu√£ng 4: C-F|X:1
L:1/2
K:C
C F|]}}

### Qu√£ng 5 (Fifth)

- **Pattern**: Skip 2 d√≤ng/khe
- **√Çm thanh**: Power chord! "Star Wars"

{{abc:Qu√£ng 5: C-G|X:1
L:1/2
K:C
C G|]}}

### Qu√£ng 6 (Sixth)

- **Pattern**: R·∫•t r·ªông
- **√Çm thanh**: "My Bonnie lies over..."

{{abc:Qu√£ng 6: C-A|X:1
L:1/2
K:C
C A|]}}

### Qu√£ng 7 (Seventh)

- **Pattern**: R·ªông nh·∫•t tr∆∞·ªõc octave
- **√Çm thanh**: CƒÉng th·∫≥ng, c·∫ßn gi·∫£i quy·∫øt

{{abc:Qu√£ng 7: C-B|X:1
L:1/2
K:C
C B|]}}

### Qu√£ng 8 (Octave)

- **Pattern**: Nh∆∞ sinh ƒë√¥i - c√πng t√™n, kh√°c t·∫ßng
- **√Çm thanh**: Ho√†n h·∫£o, ƒë·ªìng nh·∫•t

{{abc:Qu√£ng 8: C-c (octave)|X:1
L:1/2
K:C
C c|]}}

{{quiz:Qu√£ng 5 (C‚ÜíG) c√≥ √¢m thanh ƒë·∫∑c tr∆∞ng g√¨?|Bu·ªìn b√£;*M·∫°nh m·∫Ω nh∆∞ Power chord;CƒÉng th·∫≥ng|Qu√£ng 5 l√† n·ªÅn t·∫£ng c·ªßa Power chord trong Rock!}}

---

## 4. B·∫£ng t·ªïng h·ª£p

| Qu√£ng | S·ªë n·ªët | V√≠ d·ª• | Pattern tr√™n khu√¥ng |
|-------|--------|-------|---------------------|
| **Unison** | 1 | C-C | C√πng v·ªã tr√≠ |
| **2nd** | 2 | C-D | Li·ªÅn k·ªÅ (d√≤ng‚Üîkhe) |
| **3rd** | 3 | C-E | Skip 1 (d√≤ng‚Üîd√≤ng) |
| **4th** | 4 | C-F | Skip 2 |
| **5th** | 5 | C-G | Skip 3 |
| **6th** | 6 | C-A | Skip 4 |
| **7th** | 7 | C-B | Skip 5 |
| **Octave** | 8 | C-c | Skip 6 (c√πng t√™n) |

---

## 5. Nh·∫≠n d·∫°ng tr·ª±c quan tr√™n khu√¥ng

### "Ng∆∞·ªùi tuy·∫øt" Pattern

Khi 2 n·ªët ƒë·ªÅu n·∫±m tr√™n **d√≤ng** ho·∫∑c ƒë·ªÅu n·∫±m trong **khe**:

- D√≤ng‚ÜîD√≤ng li·ªÅn k·ªÅ = **Qu√£ng 3**
- Khe‚ÜîKhe li·ªÅn k·ªÅ = **Qu√£ng 3**

{{abc:Qu√£ng 3: C·∫£ hai tr√™n d√≤ng|X:1
L:1/2
K:C
E G|]}}

### "L·ªách nhau" Pattern

Khi 1 n·ªët tr√™n d√≤ng, 1 n·ªët trong khe:

- Li·ªÅn k·ªÅ = **Qu√£ng 2** (ho·∫∑c qu√£ng ch·∫µn)

{{abc:Qu√£ng 2: D√≤ng-Khe li·ªÅn k·ªÅ|X:1
L:1/2
K:C
E F|]}}

---

## 6. Melodic vs Harmonic Interval

### Melodic Interval (Qu√£ng giai ƒëi·ªáu)

Hai n·ªët ch∆°i **l·∫ßn l∆∞·ª£t** - t·∫°o th√†nh giai ƒëi·ªáu.

{{abc:Melodic: C r·ªìi ƒë·∫øn G|X:1
L:1/2
K:C
C G|]}}

### Harmonic Interval (Qu√£ng h√≤a √¢m)

Hai n·ªët ch∆°i **c√πng l√∫c** - t·∫°o th√†nh h√≤a √¢m.

{{abc:Harmonic: C v√† G c√πng l√∫c|X:1
L:1/2
K:C
[CG]2|]}}

> üéπ Melodic = Ngang (theo th·ªùi gian), Harmonic = D·ªçc (c√πng th·ªùi ƒëi·ªÉm)

{{quiz:Melodic interval v√† Harmonic interval kh√°c nhau ·ªü ƒëi·ªÉm n√†o?|S·ªë n·ªët;*C√°ch ch∆°i (n·ªëi ti·∫øp vs c√πng l√∫c);Cao ƒë·ªô|Melodic = n·ªëi ti·∫øp (giai ƒëi·ªáu), Harmonic = c√πng l√∫c (h√≤a √¢m)}}

---

## 7. ƒê·∫øm nhanh: M·∫πo th·ª±c h√†nh

### S·ª≠ d·ª•ng b√†n tay

- N·ªët ƒë·∫ßu = ng√≥n c√°i (1)
- ƒê·∫øm l√™n t·ª´ng ng√≥n
- N·ªët cu·ªëi = s·ªë ng√≥n = qu√£ng

### ƒê·∫øm tr√™n khu√¥ng

1. ƒê√°nh d·∫•u n·ªët ƒë·∫ßu = 1
2. ƒê·∫øm m·ªói d√≤ng + khe cho ƒë·∫øn n·ªët cu·ªëi
3. S·ªë cu·ªëi c√πng = t√™n qu√£ng

---

## üéØ T√≥m t·∫Øt

1. **Qu√£ng** = Kho·∫£ng c√°ch gi·ªØa 2 n·ªët
2. ƒê·∫øm **T·∫§T C·∫¢** c√°c n·ªët (bao g·ªìm c·∫£ n·ªët ƒë·∫ßu = 1)
3. C‚ÜíD = 2, C‚ÜíE = 3, C‚ÜíF = 4, C‚ÜíG = 5...
4. **Melodic** = n·ªëi ti·∫øp, **Harmonic** = c√πng l√∫c
5. Pattern: D√≤ng‚ÜîD√≤ng ho·∫∑c Khe‚ÜîKhe = qu√£ng l·∫ª (3, 5, 7)

> üí° **M·∫πo**: Qu√£ng 3 tr√¥ng nh∆∞ "ng∆∞·ªùi tuy·∫øt" - 2 h√¨nh tr√≤n ch·ªìng l√™n nhau!
  `,
  abcDemos: [
    {
      id: '3.3.1',
      title: 'Interval Counting',
      description:
        'Animation ƒë·∫øm t·ª´ng b∆∞·ªõc: C(1) ‚Üí D(2) ‚Üí E(3) = Qu√£ng 3. L∆∞u √Ω: lu√¥n ƒë·∫øm n·ªët ƒë·∫ßu l√† 1, kh√¥ng ph·∫£i 0! ƒê√¢y l√† sai l·∫ßm ph·ªï bi·∫øn nh·∫•t c·ªßa ng∆∞·ªùi h·ªçc.',
      abc: `X:1
M:4/4
L:1/2
K:C
C E | C G |]`,
      interactive: true,
      playable: true,
    },
    {
      id: '3.3.2',
      title: 'Interval Gallery',
      description:
        'T·∫•t c·∫£ qu√£ng t·ª´ 2nd ƒë·∫øn 8ve: 2nd (C-D), 3rd (C-E), 4th (C-F), 5th (C-G), 6th (C-A), 7th (C-B), 8ve (C-c). Nghe v√† c·∫£m nh·∫≠n "m√†u s·∫Øc" c·ªßa t·ª´ng qu√£ng!',
      abc: `X:1
M:4/4
L:1/4
K:C
C D C E | C F C G | C A C B | C c|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '3.3.3',
      title: 'Melodic vs Harmonic',
      description:
        'So s√°nh 2 c√°ch ch∆°i interval: Melodic (C r·ªìi G - n·ªëi ti·∫øp) vs Harmonic (C+G c√πng l√∫c). C√πng qu√£ng 5, nh∆∞ng melodic nghe nh∆∞ giai ƒëi·ªáu, harmonic nghe nh∆∞ h·ª£p √¢m!',
      abc: `X:1
M:4/4
L:1/2
K:C
C G | [CG]2 |]`,
      interactive: true,
      playable: true,
    },
  ],
  exercises: [
    {
      type: 'interval',
      questionCount: 5,
    },
  ],
}
