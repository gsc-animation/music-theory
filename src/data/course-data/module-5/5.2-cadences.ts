/**
 * Module 5, Submodule 5.2: Ch·ªó ng·∫Øt (Cadences)
 */
import type { Submodule } from '../types'

export const SUBMODULE_5_2: Submodule = {
  id: '5.2',
  title: 'Ch·ªó ng·∫Øt',
  description: 'Ph√¢n bi·ªát 4 lo·∫°i cadence: Perfect, Plagal, Half, Deceptive',
  sections: ['theory', 'grandStaff', 'abcDemo'],
  theoryContent: `
## 1. Cadence l√† g√¨?

### ƒê·ªãnh nghƒ©a

**Cadence** (Ch·ªó ng·∫Øt) l√† c√°ch **k·∫øt th√∫c** m·ªôt c√¢u nh·∫°c - gi·ªëng nh∆∞ d·∫•u ch·∫•m c√¢u trong vƒÉn vi·∫øt.

> üìù Cadence = "D·∫•u c√¢u" c·ªßa √¢m nh·∫°c!

| Lo·∫°i | C·∫£m gi√°c | D·∫•u c√¢u t∆∞∆°ng ƒë∆∞∆°ng |
|------|----------|---------------------|
| Perfect | K·∫øt th√∫c! | D·∫•u ch·∫•m **( . )** |
| Plagal | B√¨nh y√™n | D·∫•u ph·∫©y **( , )** |
| Half | Ch·ªù ƒë·ª£i | D·∫•u h·ªèi **( ? )** |
| Deceptive | B·∫•t ng·ªù | D·∫•u ch·∫•m than **( ! )** |

---

## 2. Perfect Cadence (V ‚Üí I) üè†

### "Authentic Cadence" - V·ªÅ nh√†!

> **V ‚Üí I** (ho·∫∑c V7 ‚Üí I)
>
> Trong C: **G(7) ‚Üí C**

{{abc:Perfect Cadence: G7 ‚Üí C|X:1
M:4/4
L:1/2
K:C
[GBdf] [CEGc]|]}}

### C·∫£m gi√°c

- Ho√†n to√†n **k·∫øt th√∫c** üèÅ
- "ƒê√≥ng c·ª≠a", "v·ªÅ ƒë√≠ch"
- D√πng ·ªü **cu·ªëi b√†i** ho·∫∑c cu·ªëi ƒëo·∫°n l·ªõn

> üé¨ Nh∆∞ c·∫£nh cu·ªëi phim - "THE END"!

---

## 3. Plagal Cadence (IV ‚Üí I) üôè

### "Amen Cadence" - B√¨nh y√™n

> **IV ‚Üí I**
>
> Trong C: **F ‚Üí C**

{{abc:Plagal Cadence: F ‚Üí C|X:1
M:4/4
L:1/2
K:C
[FAc] [CEG]|]}}

### C·∫£m gi√°c

- **Trang nghi√™m**, b√¨nh y√™n
- "Amen" ·ªü cu·ªëi th√°nh ca
- √çt cƒÉng th·∫≥ng h∆°n Perfect

### S·ª≠ d·ª•ng

- K·∫øt th√∫c nh·∫°c nh√† th·ªù
- Outro Rock/Pop: "Let It Be", "Hey Jude"

---

## 4. Half Cadence (? ‚Üí V) ‚ùì

### "Imperfect Cadence" - Ch∆∞a xong!

> **B·∫•t k·ª≥ chord n√†o ‚Üí V**
>
> Trong C: **... ‚Üí G**

{{abc:Half Cadence: Ends on V|X:1
M:4/4
L:1/2
K:C
[CEG] [DFA] | [GBd]2|]}}

### C·∫£m gi√°c

- **D·∫•u h·ªèi** ‚ùì
- "Ch·ªù ƒë·ª£i", "To be continued..."
- Nghe kh√¥ng tr·ªçn v·∫πn, mu·ªën c√≥ c√¢u ti·∫øp

### S·ª≠ d·ª•ng

- Cu·ªëi phrase ƒë·∫ßu (antecedent phrase)
- T·∫°o tension, listener mu·ªën nghe ti·∫øp

---

## 5. Deceptive Cadence (V ‚Üí vi) üòÆ

### "Surprise!" - L·ª´a ƒë·∫£o

> **V ‚Üí vi** (thay v√¨ V ‚Üí I nh∆∞ expected)
>
> Trong C: **G ‚Üí Am** (thay v√¨ G ‚Üí C)

{{abc:Deceptive Cadence: G ‚Üí Am (surprise!)|X:1
M:4/4
L:1/2
K:C
[GBdf] [Ace]|]}}

### C·∫£m gi√°c

- **B·∫•t ng·ªù!** üòÆ
- "ƒê√°ng l·∫Ω v·ªÅ C nh∆∞ng l·∫°i sang Am"
- Plot twist √¢m nh·∫°c

### S·ª≠ d·ª•ng

- K√©o d√†i b√†i h√°t
- T·∫°o surprise effect
- ƒê·ªïi t·ª´ Major sang minor mood

---

## 6. So s√°nh 4 Cadences

| Cadence | Chords | C·∫£m gi√°c | K√Ω hi·ªáu |
|---------|--------|----------|---------|
| **Perfect** | V ‚Üí I | K·∫øt th√∫c | üè† |
| **Plagal** | IV ‚Üí I | B√¨nh y√™n | üôè |
| **Half** | ? ‚Üí V | Ch·ªù ƒë·ª£i | ‚ùì |
| **Deceptive** | V ‚Üí vi | B·∫•t ng·ªù | üòÆ |

---

## 7. Authentic vs Plagal

### Kh√°c bi·ªát c·∫£m x√∫c

**Perfect/Authentic (V‚ÜíI)**:
- M·∫°nh m·∫Ω, d·ª©t kho√°t
- V7 c√≥ **tritone** ‚Üí c·∫ßn resolution

**Plagal (IV‚ÜíI)**:
- Nh·∫π nh√†ng, b√¨nh th·∫£n
- Kh√¥ng c√≥ tension m·∫°nh

{{abc:Perfect vs Plagal so s√°nh|X:1
M:4/4
L:1/2
K:C
"Perfect" [GBdf] [CEGc] | "Plagal" [FAc] [CEG]|]}}

---

## 8. ·ª®ng d·ª•ng trong b√†i h√°t

### K·∫øt th√∫c m·∫°nh m·∫Ω

D√πng **Perfect Cadence** (V7 ‚Üí I)

### K·∫øt th√∫c nh·∫π nh√†ng

D√πng **Plagal Cadence** (IV ‚Üí I)

### T·∫°o suspense

D√πng **Half Cadence** (... ‚Üí V) ·ªü gi·ªØa b√†i

### B·∫•t ng·ªù/K√©o d√†i

D√πng **Deceptive Cadence** (V ‚Üí vi)

---

## üéØ T√≥m t·∫Øt

1. **Perfect (V‚ÜíI)**: K·∫øt th√∫c d·ª©t kho√°t - "THE END"
2. **Plagal (IV‚ÜíI)**: B√¨nh y√™n - "Amen"
3. **Half (?‚ÜíV)**: Ch·ªù ƒë·ª£i - "To be continued..."
4. **Deceptive (V‚Üívi)**: B·∫•t ng·ªù - "Plot twist!"
5. Cadence = D·∫•u c√¢u c·ªßa √¢m nh·∫°c

> üí° **M·∫πo**: Nghe cu·ªëi ƒëo·∫°n nh·∫°c, x√°c ƒë·ªãnh 2 chord cu·ªëi = bi·∫øt cadence!
  `,
  abcDemos: [
    {
      id: '5.2.1',
      title: 'Perfect Cadence',
      description: 'V ‚Üí I = "The End". G7 (v·ªõi tritone B-F) resolve v·ªÅ C Major. ƒê√¢y l√† cadence m·∫°nh nh·∫•t, d·ª©t kho√°t nh·∫•t. D√πng ·ªü cu·ªëi b√†i!',
      abc: `X:1
M:4/4
L:1/2
K:C
[GBdf] [CEGc]|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '5.2.2',
      title: 'Plagal "Amen"',
      description: 'IV ‚Üí I = peaceful ending. F ‚Üí C kh√¥ng c√≥ tension nh∆∞ V‚ÜíI. Th∆∞·ªùng nghe trong th√°nh ca k·∫øt th√∫c b·∫±ng "A-men". C≈©ng ph·ªï bi·∫øn trong Rock ballad!',
      abc: `X:1
M:4/4
L:1/2
K:C
[FAc] [CEG]|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '5.2.3',
      title: 'Half Cadence',
      description: '‚Üí V = "To be continued..." K·∫øt th√∫c tr√™n chord V (G), kh√¥ng v·ªÅ I. Listener c·∫£m th·∫•y "ch∆∞a xong", mu·ªën nghe ti·∫øp. D√πng ƒë·ªÉ t·∫°o suspense!',
      abc: `X:1
M:4/4
L:1/2
K:C
[CEG] [DFA] | [GBd]2|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '5.2.4',
      title: 'Deceptive Surprise',
      description: 'V ‚Üí vi = "Plot twist!" ƒê√°ng l·∫Ω G7 ‚Üí C (expected), nh∆∞ng ƒëi v·ªÅ Am (surprise!). D√πng ƒë·ªÉ k√©o d√†i b√†i ho·∫∑c t·∫°o unexpected emotional shift.',
      abc: `X:1
M:4/4
L:1/2
K:C
[GBdf] [Ace]|]`,
      interactive: true,
      playable: true,
    },
  ],
  exercises: [{ type: 'chord', questionCount: 5 }],
}
