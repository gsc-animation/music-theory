/**
 * Module 4, Submodule 4.7: H·ª£p √¢m 7 (Seventh Chords)
 */
import type { Submodule } from '../types'

export const SUBMODULE_4_7: Submodule = {
  id: '4.7',
  title: 'H·ª£p √¢m 7',
  description: 'Ph√¢n bi·ªát Maj7, min7, Dom7 v√† ti·∫øn tr√¨nh ii-V-I trong Jazz',
  sections: ['theory', 'piano', 'guitar', 'abcDemo'],
  theoryContent: `
## 1. Seventh Chord l√† g√¨?

### ƒê·ªãnh nghƒ©a

**Seventh Chord** (H·ª£p √¢m 7) = Triad + th√™m **1 n·ªët qu√£ng 7** t·ª´ Root.

> üß± 4 n·ªët thay v√¨ 3: Root + 3rd + 5th + **7th**

{{abc:C Triad vs C7: Th√™m n·ªët 7|X:1
L:1/1
K:C
[CEG] | [CEG_B]|]}}

{{quiz:Seventh Chord c√≥ bao nhi√™u n·ªët?|3;*4;5|Seventh Chord = Triad (3 n·ªët) + n·ªët 7 = 4 n·ªët}}

---

## 2. Ba lo·∫°i Seventh Chord ph·ªï bi·∫øn

| Lo·∫°i | C√¥ng th·ª©c | K√Ω hi·ªáu | C·∫£m x√∫c |
|------|-----------|---------|---------|
| **Major 7** | Major triad + M7 | Cmaj7, CM7, C‚ñ≥7 | M∆° m√†ng, Jazz |
| **minor 7** | minor triad + m7 | Cm7, C-7 | Soul, R&B |
| **Dominant 7** | Major triad + m7 | C7 | Blues, cƒÉng th·∫≥ng |

{{quiz:Dominant 7 (C7) c√≥ c√¥ng th·ª©c l√† g√¨?|Major triad + Major 7;*Major triad + minor 7;minor triad + minor 7|Dom7 = Major triad + minor 7. ƒê·∫∑c bi·ªát: c√≥ tritone, cƒÉng th·∫≥ng!}}

---

## 3. Major 7 (Cmaj7)

### C√¥ng th·ª©c

**Major Triad + Major 7th** (11 semitones t·ª´ root)

- C-E-G (triad) + **B** (M7) = **Cmaj7**

{{abc:Cmaj7: C-E-G-B|X:1
L:1/1
K:C
[CEGB]|]}}

{{piano:Cmaj7|C4,E4,G4,B4}}

### √Çm h∆∞·ªüng

- M∆° m√†ng, m·ªÅm m·∫°i ‚òÅÔ∏è
- **Jazz, Lo-fi, Bossa Nova**
- ·ªîn ƒë·ªãnh, kh√¥ng c·∫ßn resolution

---

## 4. Minor 7 (Cm7)

### C√¥ng th·ª©c

**minor Triad + minor 7th** (10 semitones t·ª´ root)

- C-Eb-G (triad) + **Bb** (m7) = **Cm7**

{{abc:Cm7: C-Eb-G-Bb|X:1
L:1/1
K:Cm
[C_EG_B]|]}}

{{piano:Cm7|C4,Eb4,G4,Bb4}}

### √Çm h∆∞·ªüng

- Bu·ªìn nh·∫π, s√¢u l·∫Øng üåô
- **Soul, R&B, Neo-Soul**
- D'Angelo, Erykah Badu style

---

## 5. Dominant 7 (C7)

### C√¥ng th·ª©c

**Major Triad + minor 7th** (ƒê·∫∂C BI·ªÜT!)

- C-E-G (Major triad) + **Bb** (m7) = **C7**

{{abc:C7: C-E-G-Bb (c√≥ tritone!)|X:1
L:1/1
K:C
[CEG_B]|]}}

{{piano:C7 - Dominant chord|C4,E4,G4,Bb4}}

### √Çm h∆∞·ªüng

- CƒÉng th·∫≥ng mu·ªën **resolution** ‚ö°
- Ch·ª©a **tritone** (E-Bb)!
- **Blues, Funk, Resolution V7‚ÜíI**

### V7 ‚Üí I: Cadence m·∫°nh nh·∫•t

{{abc:G7 ‚Üí C (Dominant resolution)|X:1
M:4/4
L:1/2
K:C
[GBd_f] [CEGc]|]}}

{{quiz:V7 ‚Üí I ƒë∆∞·ª£c g·ªçi l√† g√¨?|Plagal Cadence;*Authentic/Perfect Cadence;Deceptive Cadence|V7‚ÜíI l√† Authentic Cadence - cadence m·∫°nh nh·∫•t do tritone resolution}}

---

## 6. ii-V-I: Ti·∫øn tr√¨nh Jazz

### "C·ªó m√°y th·ªùi gian Jazz"

Ti·∫øn tr√¨nh quan tr·ªçng nh·∫•t trong Jazz:

> **Dm7 ‚Üí G7 ‚Üí Cmaj7** (trong C Major)
>
> **ii7 ‚Üí V7 ‚Üí Imaj7**

{{abc:ii-V-I trong C Major|X:1
M:4/4
L:1/2
K:C
[DFAc] [GBd_f] | [CEGb] z|]}}

### T·∫°i sao hi·ªáu qu·∫£?

- **Circle of Fifths movement**: D‚ÜíG‚ÜíC
- V7 ch·ª©a tritone ‚Üí mu·ªën resolve v·ªÅ I
- √Çm thanh "sophisticated", jazzy

{{quiz:ii-V-I trong C Major l√† progression n√†o?|Cmaj7-G7-Dm7;Am7-D7-Gmaj7;*Dm7-G7-Cmaj7|ii-V-I trong C = Dm7 (ii) ‚Üí G7 (V) ‚Üí Cmaj7 (I)}}

---

## 7. Seventh Chords tr√™n Guitar

### Shapes ph·ªï bi·∫øn

{{guitar:G7 Open Chord|G2,B2,D3,F3,G3,B3}}

{{guitar:C7 Open Chord|C3,E3,Bb3,C4,E4}}

{{guitar:Am7 Open Chord|A2,E3,G3,C4,E4}}

### Barre Chord 7ths

Guitarists th∆∞·ªùng d√πng barre chord shapes cho 7th chords trong Jazz v√† Funk.

---

## 8. Diminished 7 & Half-Diminished

### Bonus: 2 lo·∫°i kh√°c

| Lo·∫°i | C√¥ng th·ª©c | K√Ω hi·ªáu | Ghi ch√∫ |
|------|-----------|---------|---------|
| **dim7** | dim triad + dim7 | C¬∞7 | Symmetric, mystery |
| **half-dim** | dim triad + m7 | Cm7‚ô≠5, C√∏7 | = minor 7 flat 5 |

{{abc:C diminished 7: Symmetric!|X:1
L:1/1
K:C
[C_E_G_B]|]}}

---

## üéØ T√≥m t·∫Øt

1. **Seventh Chord** = Triad + 7th (4 n·ªët)
2. **Maj7**: Major + M7 = M∆° m√†ng (Cmaj7)
3. **min7**: minor + m7 = Soul (Cm7)
4. **Dom7**: Major + m7 = Blues/Resolution (C7)
5. **ii-V-I** = Dm7‚ÜíG7‚ÜíCmaj7 = Jazz essential!
6. **V7‚ÜíI** = Cadence m·∫°nh nh·∫•t (c√≥ tritone resolution)

> üí° **M·∫πo**: Dom7 (C7) kh√°c Maj7 (Cmaj7)! C7 = cƒÉng th·∫≥ng, Cmaj7 = m∆° m√†ng.
  `,
  abcDemos: [
    {
      id: '4.7.1',
      title: 'Maj7 vs min7 vs Dom7',
      description:
        'Side-by-side-by-side: Cmaj7 (C-E-G-B, m∆° m√†ng), Cm7 (C-Eb-G-Bb, bu·ªìn nh·∫π), C7 (C-E-G-Bb, blues cƒÉng). N·ªët 7 v√† 3 t·∫°o s·ª± kh√°c bi·ªát l·ªõn!',
      abc: `X:1
M:4/4
L:1/2
K:C
[CEGB] [C_EG_B] | [CEG_B]2|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '4.7.2',
      title: 'V7 ‚Üí I Resolution',
      description:
        'G7 ‚Üí C: Tritone trong G7 (B-F) mu·ªën resolve v·ªÅ C-E. ƒê√¢y l√† "tension & release" m·∫°nh nh·∫•t trong harmony. Blues, Rock, Pop ƒë·ªÅu d√πng!',
      abc: `X:1
M:4/4
L:1/2
K:C
[GBd_f] [CEGc]|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '4.7.3',
      title: 'ii-V-I Loop',
      description:
        'Dm7 ‚Üí G7 ‚Üí Cmaj7: THE Jazz progression. Circle of Fifths movement (D‚ÜíG‚ÜíC). M·ªçi b√†i Jazz standard ƒë·ªÅu c√≥ ii-V-I. Essential knowledge!',
      abc: `X:1
M:4/4
L:1/2
K:C
[DFAc] [GBd_f] | [CEGb]2|]`,
      interactive: true,
      playable: true,
    },
    {
      id: '4.7.4',
      title: '7th Chords on Guitar',
      description:
        'G7, C7, E7 open chords: Common trong Blues v√† Jazz. Dominant 7 chords t·∫°o Blues feel ngay l·∫≠p t·ª©c. Try G7‚ÜíC7‚ÜíG7!',
      abc: `X:1
M:4/4
L:1/2
K:G
[GBd_f] [CE_Gc] | [GBd_f]2|]`,
      interactive: true,
      playable: true,
    },
  ],
  exercises: [{ type: 'chord', questionCount: 5 }],
}
